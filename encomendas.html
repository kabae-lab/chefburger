      <div id="totalCarrinho">Total: 0,00 KZ</div>
      <button class="btn-finalizar" onclick="finalizarEncomenda()">✅ Finalizar Encomenda</button>
    </div>
  </div>

  <!-- FOOTER -->
  <footer>
    <div class="footer-content">© 2026 Chef Burger AO – Todos os direitos reservados</div>
  </footer>

  <!-- SCRIPT -->
  <script>
    function toggleMenu() {
      const menu = document.getElementById("menuMobile");
      menu.style.display = (menu.style.display === "flex") ? "none" : "flex";
    }

    function fecharMenu() {
      const menu = document.getElementById("menuMobile");
      menu.style.display = "none";
    }

    // Fecha o menu se clicar fora dele (ex.: no main ou body)
    document.addEventListener("click", function(event) {
      const menu = document.getElementById("menuMobile");
      const botao = document.querySelector(".btn-menu-mobile");
      if (menu.style.display === "flex" && !menu.contains(event.target) && !botao.contains(event.target)) {
        fecharMenu();
      }
    });

    let carrinho = JSON.parse(localStorage.getItem("carrinhoChefBurger")) || [];

    function mostrarCarrinho() {
      const lista = document.getElementById("listaCarrinho");
      lista.innerHTML = "";
      carrinho.forEach((item, index) => {
        if (!item.quantidade) item.quantidade = 1;

        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${item.nome}</td>
          <td>${formatarPreco(item.preco)} KZ</td>
          <td>
            <div class="quantidade-controle">
              <button class="btn-quantidade" onclick="alterarQuantidade(${index}, -1)">➖</button>
              <span>${item.quantidade}</span>
              <button class="btn-quantidade" onclick="alterarQuantidade(${index}, 1)">➕</button>
            </div>
          </td>
          <td><button class="btn-remover" onclick="removerItem(${index})">✖</button></td>
        `;
        lista.appendChild(tr);
      });
      atualizarTotal();
    }

    function atualizarTotal() {
      let total = carrinho.reduce((acc, item) => acc + (item.preco * item.quantidade), 0);
      document.getElementById("totalCarrinho").innerText = `Total: ${formatarPreco(total)} KZ`;
    }

    function alterarQuantidade(index, delta) {
      carrinho[index].quantidade += delta;
      if (carrinho[index].quantidade < 1) carrinho[index].quantidade = 1;
      localStorage.setItem("carrinhoChefBurger", JSON.stringify(carrinho));
      mostrarCarrinho();
    }

    function removerItem(index) {
      carrinho.splice(index, 1);
      localStorage.setItem("carrinhoChefBurger", JSON.stringify(carrinho));
      mostrarCarrinho();
    }

    function formatarPreco(valor) {
      return valor.toLocaleString("pt-AO", { minimumFractionDigits: 2 });
    }

    function finalizarEncomenda() {
      if (carrinho.length === 0) {
        alert("O carrinho está vazio!");
        return;
      }

      // Saudações institucionais
      const saudacoes = [
        "Olá Chef Burger, esta é a minha encomenda:%0A",
        "Olá Chef Burger, segue o meu pedido:%0A",
        "Olá Chef Burger, confirmo esta encomenda:%0A",
        "Olá Chef Burger, envio a minha lista:%0A",
        "Olá Chef Burger, registando a minha encomenda:%0A",
        "Olá Chef Burger, envio agora o meu pedido:%0A"
      ];
      const saudacao = saudacoes[Math.floor(Math.random() * saudacoes.length)];

      let mensagem = saudacao + "%0A";
      carrinho.forEach(item => {
        mensagem += `- ${item.nome} x${item.quantidade} → ${formatarPreco(item.preco * item.quantidade)} KZ%0A`;
      });

      let total = carrinho.reduce((acc, item) => acc + (item.preco * item.quantidade), 0);
      mensagem += `%0ATotal: ${formatarPreco(total)} KZ`;

      // Abrir WhatsApp com a encomenda
      window.open(`https://wa.me/244925918468?text=${mensagem}`, "_blank");

      // Limpar carrinho e voltar ao index
      carrinho = [];
      localStorage.removeItem("carrinhoChefBurger");
      window.location.href = "index.html";
    }

    // Inicializar carrinho ao carregar página
    mostrarCarrinho();
  </script>
</body>
</html>
